<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog
		xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">


	<changeSet
			id="20191215-2052"
			author="Jan Wilczek">
		<createTable
				tableName="users">
			<column
					name="id"
					type="BIGINT(19)"
					autoIncrement="true">
				<constraints primaryKey="true" />
			</column>
			<column
					name="create_time"
					type="datetime" />
			<column
					name="email"
					type="VARCHAR(256)">
				<constraints
						nullable="false" />
			</column>
			<column
					name="password"
					type="VARCHAR(128)" />
			<column
					name="salt"
					type="VARCHAR(128)" />
			<column
					name="name"
					type="VARCHAR(256)" />
		</createTable>
	</changeSet>
	<changeSet
			id="20191215-2102"
			author="Jan Wilczek">
		<createTable
				tableName="expenses">
			<column
					name="id"
					type="BIGINT(19)"
					autoIncrement="true">
				<constraints
						primaryKey="true"/>
			</column>
			<column
					name="create_time"
					type="datetime"
					defaultValueComputed="CURRENT_TIMESTAMP" />
			<column
					name="update_time"
					type="datetime" />
			<column
					name="name"
					type="VARCHAR(1024)" />
			<column
					name="price"
					type="decimal(12, 2)">
				<constraints
						nullable="false" />
			</column>
			<column
					name="date"
					type="date" >
				<constraints
						nullable="false" />
			</column>
			<column
					name="user_id"
					type="BIGINT(19)" >
				<constraints
						foreignKeyName="fk_user_id" references="users(id)"/>
			</column>
		</createTable>
	</changeSet>

</databaseChangeLog>
